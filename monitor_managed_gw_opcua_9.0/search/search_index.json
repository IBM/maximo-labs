{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the Maximo Monitor Managed Gateway OPC UA Lab New in MAS 9.0 From MAS 9.0 the setup of the Edge Data Collector capability have changed dramatically in order to streamline and simplify the configuration process. This means you will no longer see the Edge Data Collactor or EDC in the UI, as it has been implemented as a third Gateway type in Monitor, called a Managed Gateway: Further it is no longer needed to: - create a gateway in the IoT Tool, as that is now done in the Monitor UI - create the device type up front for the devices in the Monitor UI - stick with a fixed device type per canonical model You will learn about how to setup a Managed Gateway within Maximo Monitor. In this lab you will learn the steps needed to successfully use an OPC UA simulator to act as a Siemens S7 PLC and get the data from the Siemens S7 into Maximo Monitor using a Managed Gateway. . Tip If you want to know more about OPC UA Servers, then go to the OPC Foundation OPC UA Server page The exercises will cover: Setting up the OPC UA simulator Adding a new device to the library by utilizing device scanning Create a Managed Gateway and add the device Verify data flow from Siemens S7 PLC via OPC UA all the way into Maximo Monitor Have fun Note Expected time needed to run the complete lab: 1 hour Updated: 2025-04-02","title":"Welcome"},{"location":"#welcome-to-the-maximo-monitor-managed-gateway-opc-ua-lab","text":"New in MAS 9.0 From MAS 9.0 the setup of the Edge Data Collector capability have changed dramatically in order to streamline and simplify the configuration process. This means you will no longer see the Edge Data Collactor or EDC in the UI, as it has been implemented as a third Gateway type in Monitor, called a Managed Gateway: Further it is no longer needed to: - create a gateway in the IoT Tool, as that is now done in the Monitor UI - create the device type up front for the devices in the Monitor UI - stick with a fixed device type per canonical model You will learn about how to setup a Managed Gateway within Maximo Monitor. In this lab you will learn the steps needed to successfully use an OPC UA simulator to act as a Siemens S7 PLC and get the data from the Siemens S7 into Maximo Monitor using a Managed Gateway. . Tip If you want to know more about OPC UA Servers, then go to the OPC Foundation OPC UA Server page The exercises will cover: Setting up the OPC UA simulator Adding a new device to the library by utilizing device scanning Create a Managed Gateway and add the device Verify data flow from Siemens S7 PLC via OPC UA all the way into Maximo Monitor Have fun Note Expected time needed to run the complete lab: 1 hour Updated: 2025-04-02","title":"Welcome to the Maximo Monitor Managed Gateway OPC UA Lab"},{"location":"add_device/","text":"Objectives In this Exercise you will learn how to add a device to the Device library. Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs completed the previous exercises Since PLC's are very customizable you will need to add a new device to the Device library instead of using a pre-configured device in the Device library, like a Variable frequency Drive communicating over Modbus. Navigate to the Device library setup page: For OPC UA devices it is possible to either upload a device configuration or to use the built-in data tag autodetection functionality which is a lot easier. Select Add device to library and the menu item Scan for devices : Select the OPC-UA protocol: Enter the device details and scroll down: Copy the Device scan command and don't click Done just yet: Open a terminal window (Mac/Linux) or Command window (Windows) and run the Device scan command: Wait until it has finalized and returned to the command prompt. The new device has now been added to the Device library. Go back to the browser, click Done and then Leave page : Search for your new device in the Device library: Click on your new device to see the metrics (data tags) that was added to this device: Click on Cancel once you are done looking at these beautiful data tags \ud83e\udd17. Congratulations you have successfully added a device to the Device library.","title":"2. Add device to library"},{"location":"add_device/#objectives","text":"In this Exercise you will learn how to add a device to the Device library. Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs completed the previous exercises Since PLC's are very customizable you will need to add a new device to the Device library instead of using a pre-configured device in the Device library, like a Variable frequency Drive communicating over Modbus. Navigate to the Device library setup page: For OPC UA devices it is possible to either upload a device configuration or to use the built-in data tag autodetection functionality which is a lot easier. Select Add device to library and the menu item Scan for devices : Select the OPC-UA protocol: Enter the device details and scroll down: Copy the Device scan command and don't click Done just yet: Open a terminal window (Mac/Linux) or Command window (Windows) and run the Device scan command: Wait until it has finalized and returned to the command prompt. The new device has now been added to the Device library. Go back to the browser, click Done and then Leave page : Search for your new device in the Device library: Click on your new device to see the metrics (data tags) that was added to this device: Click on Cancel once you are done looking at these beautiful data tags \ud83e\udd17. Congratulations you have successfully added a device to the Device library.","title":"Objectives"},{"location":"create_gateway/","text":"Objectives In this Exercise you will learn how to create the Managed Gateway in Monitor. Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs completed the previous exercises Add a Managed Gateway Login to MAS and navigate to Monitor: Expand Setup in the left menu and select Gateways: New in MAS 9.0 Gateways can now be created and managed in the Monitor UI. Select Add gateway : Define the gateway ID XX_MGT_GW_01 and the gateway Type XX_MGT_GW . Tip XX in the gateway ID and Type should be your initials in case other people are following this lab in the same Maximo Application Suite environment. Make sure the gateway Configuration is Managed and click Save : New in MAS 9.0 The Managed Gateway is a new type of gateway introduced in MAS Monitor 9.0. It is an integrated flow in Monitor, which removes/replaces the tedious and error prone manual process of defining an Edge Data Collector Integration in prior versions. You will now see your new Managed Gateway, including a Managed tag in both the list of Gateways as well as in the gateway definition: New in MAS 9.0 Credentials are automatically \"baked into\" the docker image for the Managed Gateway. This means you no longer have to write down the credentials for this type of gateway and then enter that information manually into the configuration of the Maximo Monitor End-point. This is much more streamlined and eliminate the risk of error when manually entering the credentials. It also means that the credentials will not be presented to you, as you no longer need them. Add your new device to the Managed Gateway In the Managed Gateway click on Add device : Since this is a Managed Gateway the Use device library is automatically selected, as it is only possible to use devices from the Device library. Just click on Continue \ud83e\udd17 Search for Siemens in the Manufacturer list: Then search for S7 devices in the long list of Siemens devices - select you newly added device under S7 OPC-UA Server , and click Next : Add the OPC UA server IP Address and Port, and click Next : Define the Device type and Device ID (using your initials instead of XX), and click Next : Set the Data frequency to 30000 ms (30 seconds) and select the following 7 data tags to be used as metrics in Monitor. Once done click Save : You will now see your new added device being a part of your new Managed gateway: Congratulations you have successfully created the Managed Gateway in Monitor and added an instance of the newly added device in the Device library.","title":"3. Create a Managed Gateway"},{"location":"create_gateway/#objectives","text":"In this Exercise you will learn how to create the Managed Gateway in Monitor. Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs completed the previous exercises","title":"Objectives"},{"location":"create_gateway/#add-a-managed-gateway","text":"Login to MAS and navigate to Monitor: Expand Setup in the left menu and select Gateways: New in MAS 9.0 Gateways can now be created and managed in the Monitor UI. Select Add gateway : Define the gateway ID XX_MGT_GW_01 and the gateway Type XX_MGT_GW . Tip XX in the gateway ID and Type should be your initials in case other people are following this lab in the same Maximo Application Suite environment. Make sure the gateway Configuration is Managed and click Save : New in MAS 9.0 The Managed Gateway is a new type of gateway introduced in MAS Monitor 9.0. It is an integrated flow in Monitor, which removes/replaces the tedious and error prone manual process of defining an Edge Data Collector Integration in prior versions. You will now see your new Managed Gateway, including a Managed tag in both the list of Gateways as well as in the gateway definition: New in MAS 9.0 Credentials are automatically \"baked into\" the docker image for the Managed Gateway. This means you no longer have to write down the credentials for this type of gateway and then enter that information manually into the configuration of the Maximo Monitor End-point. This is much more streamlined and eliminate the risk of error when manually entering the credentials. It also means that the credentials will not be presented to you, as you no longer need them.","title":"Add a Managed Gateway"},{"location":"create_gateway/#add-your-new-device-to-the-managed-gateway","text":"In the Managed Gateway click on Add device : Since this is a Managed Gateway the Use device library is automatically selected, as it is only possible to use devices from the Device library. Just click on Continue \ud83e\udd17 Search for Siemens in the Manufacturer list: Then search for S7 devices in the long list of Siemens devices - select you newly added device under S7 OPC-UA Server , and click Next : Add the OPC UA server IP Address and Port, and click Next : Define the Device type and Device ID (using your initials instead of XX), and click Next : Set the Data frequency to 30000 ms (30 seconds) and select the following 7 data tags to be used as metrics in Monitor. Once done click Save : You will now see your new added device being a part of your new Managed gateway: Congratulations you have successfully created the Managed Gateway in Monitor and added an instance of the newly added device in the Device library.","title":"Add your new device to the Managed Gateway"},{"location":"deploy/","text":"Objectives In this Exercise you will learn how to: Deploy the Managed Gateway Verify connectivity and data inflow Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs and for this exercise completed the previous exercises verified the simulator is running as described in exercise 1 Deploy the Managed Gateway While looking at your Managed Gateway in the Gateways list, press the View deployment instructions . Click on the docker command to copy it to the clipboard: Open a terminal window (Mac/Linux) or Command window (Windows) where you want to run the Managed Gateway and then paste the docker command line from the clipboard. Click enter to execute it, and you should see something similar to the following: Verify connection and data flowing into IoT Tool Navigate to the IoT Tool from the App Switcher in the upper right hand corner or from the main home page: Since the gateway and the devices uses the same prefix, then it is easy to search for them. Verify the gateway XX_MGT_GW_01 is in Connected state and the device XX_OPC_UA_Server_01 is in disconnected state. Tip The devices belonging to the gateway will always be in Disconnected state, as they receive their data through the gateway. New in MAS 9.0 Both the Managed Gateway and the OT Devices have been created by the Monitor UI when creating the Managed Gateway and adding the OT Devices, i.e. the devices will no longer be created by the gateway when data have been collected as in previous versions. Select the simulated Siemens S7 OPC UA Server and navigate to Recent Events . Wait for a couple of minutes (you know those 30000ms defined when adding the device) until you see the first messages coming through: Click on the last received payload: and see the data points that you selected when adding the device to the Device library: And see the data points that was selected being send on the status event type: { \"timestamp\": \"2024-10-21T15:15:52.662245Z\", \"opcplc-telemetry-anomaly-dipdata\": -84.4327925502015, \"opcplc-telemetry-anomaly-negativetrenddata\": -210.39999999999998, \"opcplc-telemetry-anomaly-positivetrenddata\": 410.5, \"opcplc-telemetry-anomaly-spikedata\": -84.4327925502015, \"opcplc-telemetry-basic-alternatingboolean\": false, \"opcplc-telemetry-basic-randomsignedint32\": -1944417017, \"opcplc-telemetry-basic-randomunsignedint32\": 2131461779 } Verify data flowing into Monitor Go to the Setup of Device types and search for your device, then click to open it: New in MAS 9.0 You can also see the incoming data directly in Monitor. Select the Resent event and wait a little bit: Click on View payload for the last incoming message: and once again you can see tha data flowing. Potentially the stored data could be used in a dashboard for the Siemens S7 device: Congratulations you have successfully deployed and verified the connectivity and data inflow, and thereby completed this Maximo Lab.","title":"4. Deploy and verify connectivity"},{"location":"deploy/#objectives","text":"In this Exercise you will learn how to: Deploy the Managed Gateway Verify connectivity and data inflow Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs and for this exercise completed the previous exercises verified the simulator is running as described in exercise 1","title":"Objectives"},{"location":"deploy/#deploy-the-managed-gateway","text":"While looking at your Managed Gateway in the Gateways list, press the View deployment instructions . Click on the docker command to copy it to the clipboard: Open a terminal window (Mac/Linux) or Command window (Windows) where you want to run the Managed Gateway and then paste the docker command line from the clipboard. Click enter to execute it, and you should see something similar to the following:","title":"Deploy the Managed Gateway"},{"location":"deploy/#verify-connection-and-data-flowing-into-iot-tool","text":"Navigate to the IoT Tool from the App Switcher in the upper right hand corner or from the main home page: Since the gateway and the devices uses the same prefix, then it is easy to search for them. Verify the gateway XX_MGT_GW_01 is in Connected state and the device XX_OPC_UA_Server_01 is in disconnected state. Tip The devices belonging to the gateway will always be in Disconnected state, as they receive their data through the gateway. New in MAS 9.0 Both the Managed Gateway and the OT Devices have been created by the Monitor UI when creating the Managed Gateway and adding the OT Devices, i.e. the devices will no longer be created by the gateway when data have been collected as in previous versions. Select the simulated Siemens S7 OPC UA Server and navigate to Recent Events . Wait for a couple of minutes (you know those 30000ms defined when adding the device) until you see the first messages coming through: Click on the last received payload: and see the data points that you selected when adding the device to the Device library: And see the data points that was selected being send on the status event type: { \"timestamp\": \"2024-10-21T15:15:52.662245Z\", \"opcplc-telemetry-anomaly-dipdata\": -84.4327925502015, \"opcplc-telemetry-anomaly-negativetrenddata\": -210.39999999999998, \"opcplc-telemetry-anomaly-positivetrenddata\": 410.5, \"opcplc-telemetry-anomaly-spikedata\": -84.4327925502015, \"opcplc-telemetry-basic-alternatingboolean\": false, \"opcplc-telemetry-basic-randomsignedint32\": -1944417017, \"opcplc-telemetry-basic-randomunsignedint32\": 2131461779 }","title":"Verify connection and data flowing into IoT Tool"},{"location":"deploy/#verify-data-flowing-into-monitor","text":"Go to the Setup of Device types and search for your device, then click to open it: New in MAS 9.0 You can also see the incoming data directly in Monitor. Select the Resent event and wait a little bit: Click on View payload for the last incoming message: and once again you can see tha data flowing. Potentially the stored data could be used in a dashboard for the Siemens S7 device: Congratulations you have successfully deployed and verified the connectivity and data inflow, and thereby completed this Maximo Lab.","title":"Verify data flowing into Monitor"},{"location":"prereqs/","text":"Pre-Requisite Instructions Here are the pre-requisites for the Maximo Monitor Edge Data Collector exercises. Attention This lab requires Maximo Monitor 9.0 or later. MAS application entitlement must be Limited or higher. All Exercises All Exercises require that you have: A computer with a Chrome or Firefox browser and internet connectivity. User access to a Maximo Application Suite environment that can create a managed gateways in Monitor. This require: o Your user must have access to Monitor and the IoT Tool o Your user must have administrator access to Maximo Application Suite. Your Exercise facilitator should have provided you with the information on your access. An IBM ID. If you don't have an IBM ID you can get one here : o Click Login to MY IBM button o Click Create an IBM ID link Test your access to the Maximo Application Suite environment. Exercise 1 and 4 Docker must be running on your local machine while acting as the Managed Gateway instance. There are different ways to install the Docker engine depending of the package and the OS. One multi platform option is Rancher Desktop. It is fairly easy to install Rancher Desktop, as you just have to follow this guide: Running Docker locally Tip Podman and Docker Desktop should also work, but I have not tested it.","title":"Pre-Requisites"},{"location":"prereqs/#pre-requisite-instructions","text":"Here are the pre-requisites for the Maximo Monitor Edge Data Collector exercises. Attention This lab requires Maximo Monitor 9.0 or later. MAS application entitlement must be Limited or higher.","title":"Pre-Requisite Instructions"},{"location":"prereqs/#all-exercises","text":"All Exercises require that you have: A computer with a Chrome or Firefox browser and internet connectivity. User access to a Maximo Application Suite environment that can create a managed gateways in Monitor. This require: o Your user must have access to Monitor and the IoT Tool o Your user must have administrator access to Maximo Application Suite. Your Exercise facilitator should have provided you with the information on your access. An IBM ID. If you don't have an IBM ID you can get one here : o Click Login to MY IBM button o Click Create an IBM ID link Test your access to the Maximo Application Suite environment.","title":"All Exercises"},{"location":"prereqs/#exercise-1-and-4","text":"Docker must be running on your local machine while acting as the Managed Gateway instance. There are different ways to install the Docker engine depending of the package and the OS. One multi platform option is Rancher Desktop. It is fairly easy to install Rancher Desktop, as you just have to follow this guide: Running Docker locally Tip Podman and Docker Desktop should also work, but I have not tested it.","title":"Exercise 1 and 4"},{"location":"release_notes/","text":"Contributors to this Maximo Lab Author & Developer: Jan Ekstr\u00f8m - jan.ekstrom@dk.ibm.com Assistance with the OPC UA Simulator: Gregorio Guerretta - Gregorio.Guerretta@ibm.com Change Information Date By Description 2025-04-02 Jan Ekstr\u00f8m Added 'Copy to clipboard' for commands. 2024-11-07 Jan Ekstr\u00f8m Lab is ready for the first release.","title":"Release Notes"},{"location":"release_notes/#contributors-to-this-maximo-lab","text":"","title":"Contributors to this Maximo Lab"},{"location":"release_notes/#author-developer","text":"Jan Ekstr\u00f8m - jan.ekstrom@dk.ibm.com","title":"Author &amp; Developer:"},{"location":"release_notes/#assistance-with-the-opc-ua-simulator","text":"Gregorio Guerretta - Gregorio.Guerretta@ibm.com","title":"Assistance with the OPC UA Simulator:"},{"location":"release_notes/#change-information","text":"Date By Description 2025-04-02 Jan Ekstr\u00f8m Added 'Copy to clipboard' for commands. 2024-11-07 Jan Ekstr\u00f8m Lab is ready for the first release.","title":"Change Information"},{"location":"setup_simulator/","text":"Objectives In this Exercise you will learn how to: Install the OPC UA simulator Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs The simulator in this exercice is a PLC OPC UA simulator with dynamic data tags: Microsoft OPC UA PLC Running the OPC UA Server Open a terminal window (Mac/Linux) or Command window (Windows) and enter the following command: docker run --rm -it --net host --name opcplc mcr.microsoft.com/iotedge/opc-plc:2.5.2 --ph=127.0.0.1 --pn=50000 --ut --autoaccept --sph --sn=5 --sr=10 --st=uint --fn=5 --fr=1 --ft=uint --gn=5 Wait until the initialization has been complete: You should now see the URL of the Endpoint: opc.tcp://127.0.0.1:50000 - which will be used later in the lab. Note Info on the different options for the command can be found here The added command options compared to the suggested one provided in the page are: Be absolutely sure to use version 2.5.2 of the simulator - if you use any later version you\u2019ll get close to 4000 tags instead of just 27 --ut : To enable unsecure transport, so that there is the possibility to establish connection without certificates and user authentication --ph=<path> : The fully-qualified hostname of the PLC - in our case 127.0.0.1 . --pn=<port number> : The server port of the OPC server endpoint - in our case 50000 . Verifying the OPC UA Server is running This part of the exercise is optional. If you want to verify that the OPC UA server is running there are several options. The Prosys OPC UA Browser is fairly easy to use and it is available for all major operating systems (Windows, Linux, macOS). The OPC UA Browser is free, but you are required to click the Request Download and provide your contact information in return for downloading it. Install and open the application, then enter the URL of the Endpoint: opc.tcp://127.0.0.1:50000 Select the RandomSignedInt32 basic telemetry and you can see a Value attribute: Click on the Refresh Attributes and verify that the Value changes for each click. Congratulations you have successfully setup the simulator environment.","title":"1. Setup Simulator Environment"},{"location":"setup_simulator/#objectives","text":"In this Exercise you will learn how to: Install the OPC UA simulator Before you begin: This Exercise requires that you have: completed the pre-requisites required for all labs The simulator in this exercice is a PLC OPC UA simulator with dynamic data tags: Microsoft OPC UA PLC","title":"Objectives"},{"location":"setup_simulator/#running-the-opc-ua-server","text":"Open a terminal window (Mac/Linux) or Command window (Windows) and enter the following command: docker run --rm -it --net host --name opcplc mcr.microsoft.com/iotedge/opc-plc:2.5.2 --ph=127.0.0.1 --pn=50000 --ut --autoaccept --sph --sn=5 --sr=10 --st=uint --fn=5 --fr=1 --ft=uint --gn=5 Wait until the initialization has been complete: You should now see the URL of the Endpoint: opc.tcp://127.0.0.1:50000 - which will be used later in the lab. Note Info on the different options for the command can be found here The added command options compared to the suggested one provided in the page are: Be absolutely sure to use version 2.5.2 of the simulator - if you use any later version you\u2019ll get close to 4000 tags instead of just 27 --ut : To enable unsecure transport, so that there is the possibility to establish connection without certificates and user authentication --ph=<path> : The fully-qualified hostname of the PLC - in our case 127.0.0.1 . --pn=<port number> : The server port of the OPC server endpoint - in our case 50000 .","title":"Running the OPC UA Server"},{"location":"setup_simulator/#verifying-the-opc-ua-server-is-running","text":"This part of the exercise is optional. If you want to verify that the OPC UA server is running there are several options. The Prosys OPC UA Browser is fairly easy to use and it is available for all major operating systems (Windows, Linux, macOS). The OPC UA Browser is free, but you are required to click the Request Download and provide your contact information in return for downloading it. Install and open the application, then enter the URL of the Endpoint: opc.tcp://127.0.0.1:50000 Select the RandomSignedInt32 basic telemetry and you can see a Value attribute: Click on the Refresh Attributes and verify that the Value changes for each click. Congratulations you have successfully setup the simulator environment.","title":"Verifying the OPC UA Server is running"}]}